var FroalaEditorFunctionality={tag:null,defaultTag:"div",listeningEvents:[],$element:null,$editor:null,config:{immediateReactModelUpdate:!1,reactIgnoreAttrs:null},editorInitialized:!1,SPECIAL_TAGS:["img","button","input","a"],INNER_HTML_ATTR:"innerHTML",hasSpecialTag:!1,componentWillMount:function(){this.tag=this.props.tag||this.defaultTag},componentDidMount:function(){var t=this.refs.el.tagName.toLowerCase();this.SPECIAL_TAGS.indexOf(t)!=-1&&(this.tag=t,this.hasSpecialTag=!0),this.props.onManualControllerReady?this.generateManualController():this.createEditor()},componentWillUnmount:function(){this.destroyEditor()},createEditor:function(){this.editorInitialized||(this.editorInitialized=!0,this.config=this.props.config||this.config,this.$element=$(this.refs.el),this.props.initModel&&(this.hasSpecialTag?this.setInitialSpecialTagModel():this.setInitialModel()),this.registerEvents(),this.$editor=this.$element.froalaEditor(this.config).data("froala.editor").$el,this.initListeners())},setInitialModel:function(){var t=this;this.registerEvent(this.$element,"froalaEditor.initialized",function(){t.$element.froalaEditor("html.set",t.props.initModel||"",!0),t.$element.froalaEditor("undo.reset"),t.$element.froalaEditor("undo.saveStep")})},setInitialSpecialTagModel:function(){var t=this.props.initModel;if(t){for(var e in t)t.hasOwnProperty(e)&&e!=this.INNER_HTML_ATTR&&this.$element.attr(e,t[e]);t.hasOwnProperty(this.INNER_HTML_ATTR)&&(this.$element[0].innerHTML=t[this.INNER_HTML_ATTR])}},destroyEditor:function(){this.$element&&(this.listeningEvents&&this.$element.off(this.listeningEvents.join(" ")),this.$editor.off("keyup"),this.$element.froalaEditor("destroy"),this.listeningEvents.length=0,this.$element=null,this.editorInitialized=!1)},getEditor:function(){return this.$element?this.$element.froalaEditor.bind(this.$element):null},generateManualController:function(){var t={initialize:this.createEditor,destroy:this.destroyEditor,getEditor:this.getEditor};this.props.onManualControllerReady(t)},updateModel:function(){if(this.props.onModelChange){var t=null;if(this.hasSpecialTag){for(var e=this.$element[0].attributes,n={},i=0;i<e.length;i++){var a=e[i].name;this.config.reactIgnoreAttrs&&this.config.reactIgnoreAttrs.indexOf(a)!=-1||(n[a]=e[i].value)}this.$element[0].innerHTML&&(n[this.INNER_HTML_ATTR]=this.$element[0].innerHTML),t=n}else{var l=this.$element.froalaEditor("html.get");"string"==typeof l&&(t=l)}this.props.onModelChange(t)}},initListeners:function(){var t=this;this.registerEvent(this.$element,"froalaEditor.contentChanged",function(){t.updateModel()}),this.config.immediateReactModelUpdate&&this.registerEvent(this.$editor,"keyup",function(){t.updateModel()})},registerEvent:function(t,e,n){t&&e&&n&&(this.listeningEvents.push(e),t.on(e,n))},registerEvents:function(){var t=this.config.events;if(t)for(var e in t)t.hasOwnProperty(e)&&this.registerEvent(this.$element,e,t[e])}},FroalaEditor=React.createClass({displayName:"FroalaEditor",mixins:[FroalaEditorFunctionality],render:function(){return React.createElement(this.tag,{ref:"el"},this.props.children)}}),FroalaEditorA=React.createClass({displayName:"FroalaEditorA",mixins:[FroalaEditorFunctionality],render:function(){return React.createElement("a",{ref:"el"},this.props.children)}}),FroalaEditorButton=React.createClass({displayName:"FroalaEditorButton",mixins:[FroalaEditorFunctionality],render:function(){return React.createElement("button",{ref:"el"},this.props.children)}}),FroalaEditorImg=React.createClass({displayName:"FroalaEditorImg",mixins:[FroalaEditorFunctionality],render:function(){return React.createElement("img",{ref:"el"})}}),FroalaEditorInput=React.createClass({displayName:"FroalaEditorInput",mixins:[FroalaEditorFunctionality],render:function(){return React.createElement("input",{ref:"el"})}}),FroalaView=React.createClass({displayName:"FroalaView",defaultTag:"div",getTrustedHtml:function(){return{__html:this.props.model}},render:function(){return this.tag=this.props.tag||this.defaultTag,React.createElement(this.tag,{className:"fr-view",dangerouslySetInnerHTML:this.getTrustedHtml()})}}),Sample1=React.createClass({displayName:"Sample1",config:{placeholderText:"Add a Title",charCounterCount:!1,toolbarInline:!0,events:{"froalaEditor.initialized":function(){console.log("initialized")}}},getInitialState:function(){return{myTitle:""}},handleModelChange:function(t){this.setState({myTitle:t})},handleInputChange:function(t){this.setState({myTitle:t.target.value})},render:function(){return React.createElement("div",{className:"sample"},React.createElement("h2",null,"Sample 1: Inline Edit"),React.createElement(FroalaEditor,{tag:"textarea",config:this.config,initModel:this.state.myTitle,onModelChange:this.handleModelChange}),React.createElement("input",{value:this.state.myTitle,onChange:this.handleInputChange}))}}),Sample2=React.createClass({displayName:"Sample2",getInitialState:function(){return{content:"<span>My Document's Title</span>"}},handleModelChange:function(t){this.setState({content:t})},render:function(){return React.createElement("div",{className:"sample"},React.createElement("h2",null,"Sample2: Full Editor"),React.createElement(FroalaEditor,{initModel:this.state.content,onModelChange:this.handleModelChange}),React.createElement("h4",null,"Rendered Content:"),React.createElement(FroalaView,{model:this.state.content}))}}),Sample3=React.createClass({displayName:"Sample3",getInitialState:function(){return{initControls:null}},deleteAll:function(){this.state.initControls&&this.state.initControls.getEditor()("html.set","")},handleController:function(t){this.initControls=t,this.setState({initControls:t})},handleModelChange:function(t){this.setState({content:t})},initializeEditor:function(){this.state.initControls.initialize(),this.setState({initControls:this.state.initControls})},destroyEditor:function(){this.state.initControls.destroy(),this.setState({initControls:this.state.initControls})},render:function(){return React.createElement("div",{className:"sample"},React.createElement("h2",null,"Sample 3: Manual Initialization"),this.state.initControls?React.createElement("button",{className:"manual",onClick:this.initializeEditor},"Initialize Editor"):null,this.state.initControls&&this.state.initControls.getEditor()?React.createElement("span",null,React.createElement("button",{className:"button",onClick:this.destroyEditor},"Close Editor"),React.createElement("button",{className:"button",onClick:this.deleteAll},"Delete All")):null,React.createElement(FroalaEditor,{initModel:this.state.content,onModelChange:this.handleModelChange,onManualControllerReady:this.handleController},"Check out the ",React.createElement("a",{href:"https://www.froala.com/wysiwyg-editor"},"Froala Editor")))}}),Sample4=React.createClass({displayName:"Sample4",config:{reactIgnoreAttrs:["class"]},getInitialState:function(){return{content:{src:"../src/image.jpg"}}},handleModelChange:function(t){this.setState({content:t})},render:function(){return React.createElement("div",{className:"sample"},React.createElement("h2",null,"Sample 4: Editor on 'img' tag"),React.createElement(FroalaEditorImg,{config:this.config,initModel:this.state.content,onModelChange:this.handleModelChange}),React.createElement("h4",null,"Model Obj:"),React.createElement("div",null,JSON.stringify(this.state.content)))}}),Sample5=React.createClass({displayName:"Sample5",getInitialState:function(){return{content:{innerHTML:"Click Me"}}},handleModelChange:function(t){this.setState({content:t})},render:function(){return React.createElement("div",{className:"sample"},React.createElement("h2",null,"Sample 5: Editor on 'button' tag"),React.createElement(FroalaEditorButton,{initModel:this.state.content,onModelChange:this.handleModelChange}),React.createElement("h4",null,"Model Obj:"),React.createElement("div",null,JSON.stringify(this.state.content)))}}),Sample6=React.createClass({displayName:"Sample6",getInitialState:function(){return{content:{placeholder:"I am an input!"}}},handleModelChange:function(t){this.setState({content:t})},render:function(){return React.createElement("div",{className:"sample"},React.createElement("h2",null,"Sample 6: Editor on 'input' tag"),React.createElement(FroalaEditorInput,{initModel:this.state.content,onModelChange:this.handleModelChange}),React.createElement("h4",null,"Model Obj:"),React.createElement("div",null,JSON.stringify(this.state.content)))}}),Sample7=React.createClass({displayName:"Sample7",getInitialState:function(){return{content:{href:"https://www.froala.com/wysiwyg-editor"},initControls:null}},deleteAll:function(){this.state.initControls&&this.state.initControls.getEditor()("html.set","")},handleController:function(t){this.initControls=t,this.setState({initControls:t})},handleModelChange:function(t){this.setState({content:t})},initializeEditor:function(){this.state.initControls.initialize(),this.setState({initControls:this.state.initControls})},destroyEditor:function(){this.state.initControls.destroy(),this.setState({initControls:this.state.initControls})},render:function(){return React.createElement("div",{className:"sample"},React.createElement("h2",null,"Sample 7: Editor on 'a' tag. Manual Initialization"),this.state.initControls?React.createElement("button",{className:"manual",onClick:this.initializeEditor},"Initialize Editor"):null,this.state.initControls&&this.state.initControls.getEditor()?React.createElement("span",null,React.createElement("button",{className:"button",onClick:this.destroyEditor},"Close Editor"),React.createElement("button",{className:"button",onClick:this.deleteAll},"Delete All")):null,React.createElement("div",null,React.createElement(FroalaEditorA,{initModel:this.state.content,onModelChange:this.handleModelChange,onManualControllerReady:this.handleController},"Froala Editor")))}}),Demo=React.createClass({displayName:"Demo",render:function(){return React.createElement("div",null,React.createElement("h1",null,"React adapter for the Froala WYSIWYG editor"),React.createElement(Sample1,null),React.createElement(Sample2,null),React.createElement(Sample3,null),React.createElement(Sample4,null),React.createElement(Sample5,null),React.createElement(Sample6,null),React.createElement(Sample7,null))}});ReactDOM.render(React.createElement(Demo,null),document.getElementById("content"));